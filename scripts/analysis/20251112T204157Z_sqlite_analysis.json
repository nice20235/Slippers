{
  "database": "/Users/iskandar/Documents/Slippers - Velora/slippers.db",
  "generated_at": "20251112T204157Z",
  "tables": {
    "cart_items": {
      "type": "table",
      "create_sql": "CREATE TABLE cart_items (\n\tid INTEGER NOT NULL, \n\tcart_id INTEGER NOT NULL, \n\tslipper_id INTEGER NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(cart_id) REFERENCES carts (id) ON DELETE CASCADE, \n\tFOREIGN KEY(slipper_id) REFERENCES slippers (id) ON DELETE CASCADE\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "cart_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "slipper_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "quantity",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "uq_cart_items_cart_slipper",
          "unique": true,
          "columns": [
            "cart_id",
            "slipper_id"
          ]
        },
        {
          "name": "idx_cart_items_cart",
          "unique": false,
          "columns": [
            "cart_id"
          ]
        },
        {
          "name": "ix_cart_items_id",
          "unique": false,
          "columns": [
            "id"
          ]
        },
        {
          "name": "ix_cart_items_cart_id",
          "unique": false,
          "columns": [
            "cart_id"
          ]
        },
        {
          "name": "ix_cart_items_slipper_id",
          "unique": false,
          "columns": [
            "slipper_id"
          ]
        },
        {
          "name": "idx_cart_items_slipper",
          "unique": false,
          "columns": [
            "slipper_id"
          ]
        }
      ],
      "foreign_keys": [
        {
          "id": 0,
          "seq": 0,
          "table": "slippers",
          "from": "slipper_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        },
        {
          "id": 1,
          "seq": 0,
          "table": "carts",
          "from": "cart_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        }
      ],
      "count": 1
    },
    "carts": {
      "type": "table",
      "create_sql": "CREATE TABLE carts (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tupdated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 3,
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "uq_carts_user",
          "unique": true,
          "columns": [
            "user_id"
          ]
        },
        {
          "name": "ix_carts_user_id",
          "unique": false,
          "columns": [
            "user_id"
          ]
        },
        {
          "name": "idx_carts_created",
          "unique": false,
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "idx_carts_user",
          "unique": false,
          "columns": [
            "user_id"
          ]
        },
        {
          "name": "ix_carts_id",
          "unique": false,
          "columns": [
            "id"
          ]
        }
      ],
      "foreign_keys": [
        {
          "id": 0,
          "seq": 0,
          "table": "users",
          "from": "user_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        }
      ],
      "count": 1
    },
    "categories": {
      "type": "table",
      "create_sql": "CREATE TABLE categories (\n\tid INTEGER NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tdescription VARCHAR(255), \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tupdated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "name",
          "type": "VARCHAR(100)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "description",
          "type": "VARCHAR(255)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "is_active",
          "type": "BOOLEAN",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 5,
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "ix_categories_id",
          "unique": false,
          "columns": [
            "id"
          ]
        },
        {
          "name": "idx_categories_active",
          "unique": false,
          "columns": [
            "is_active"
          ]
        },
        {
          "name": "ix_categories_name",
          "unique": true,
          "columns": [
            "name"
          ]
        },
        {
          "name": "idx_categories_name",
          "unique": false,
          "columns": [
            "name"
          ]
        }
      ],
      "foreign_keys": [],
      "count": 1
    },
    "order_items": {
      "type": "table",
      "create_sql": "CREATE TABLE order_items (\n\tid INTEGER NOT NULL, \n\torder_id INTEGER NOT NULL, \n\tslipper_id INTEGER NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tunit_price FLOAT NOT NULL, \n\ttotal_price FLOAT NOT NULL, \n\tnotes VARCHAR(255), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(slipper_id) REFERENCES slippers (id) ON DELETE CASCADE\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "order_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "slipper_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "quantity",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "unit_price",
          "type": "FLOAT",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "total_price",
          "type": "FLOAT",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "notes",
          "type": "VARCHAR(255)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "uq_order_items_order_slipper",
          "unique": true,
          "columns": [
            "order_id",
            "slipper_id"
          ]
        },
        {
          "name": "ix_order_items_id",
          "unique": false,
          "columns": [
            "id"
          ]
        },
        {
          "name": "ix_order_items_order_id",
          "unique": false,
          "columns": [
            "order_id"
          ]
        },
        {
          "name": "idx_order_items_order",
          "unique": false,
          "columns": [
            "order_id"
          ]
        },
        {
          "name": "idx_order_items_slipper",
          "unique": false,
          "columns": [
            "slipper_id"
          ]
        },
        {
          "name": "ix_order_items_slipper_id",
          "unique": false,
          "columns": [
            "slipper_id"
          ]
        },
        {
          "name": "idx_order_items_order_slipper",
          "unique": false,
          "columns": [
            "order_id",
            "slipper_id"
          ]
        }
      ],
      "foreign_keys": [
        {
          "id": 0,
          "seq": 0,
          "table": "slippers",
          "from": "slipper_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        },
        {
          "id": 1,
          "seq": 0,
          "table": "orders",
          "from": "order_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        }
      ],
      "count": 11
    },
    "orders": {
      "type": "table",
      "create_sql": "CREATE TABLE orders (\n\tid INTEGER NOT NULL, \n\torder_id VARCHAR(32) NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\tstatus VARCHAR(9) NOT NULL, \n\ttotal_amount FLOAT NOT NULL, \n\tnotes VARCHAR(500), \n\ttransfer_id VARCHAR(64), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tupdated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, payment_uuid VARCHAR(64), idempotency_key VARCHAR(64), \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "order_id",
          "type": "VARCHAR(32)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "status",
          "type": "VARCHAR(9)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "total_amount",
          "type": "FLOAT",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "notes",
          "type": "VARCHAR(500)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "transfer_id",
          "type": "VARCHAR(64)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 8,
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 9,
          "name": "payment_uuid",
          "type": "VARCHAR(64)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 10,
          "name": "idempotency_key",
          "type": "VARCHAR(64)",
          "notnull": false,
          "default": null,
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "uq_orders_idempotency_key",
          "unique": true,
          "columns": [
            "idempotency_key"
          ]
        },
        {
          "name": "idx_orders_payment_uuid",
          "unique": false,
          "columns": [
            "payment_uuid"
          ]
        },
        {
          "name": "ix_orders_status",
          "unique": false,
          "columns": [
            "status"
          ]
        },
        {
          "name": "idx_orders_user",
          "unique": false,
          "columns": [
            "user_id"
          ]
        },
        {
          "name": "idx_orders_user_status",
          "unique": false,
          "columns": [
            "user_id",
            "status"
          ]
        },
        {
          "name": "idx_orders_order_id",
          "unique": false,
          "columns": [
            "order_id"
          ]
        },
        {
          "name": "ix_orders_id",
          "unique": false,
          "columns": [
            "id"
          ]
        },
        {
          "name": "idx_orders_total_amount",
          "unique": false,
          "columns": [
            "total_amount"
          ]
        },
        {
          "name": "idx_orders_updated",
          "unique": false,
          "columns": [
            "updated_at"
          ]
        },
        {
          "name": "idx_orders_status",
          "unique": false,
          "columns": [
            "status"
          ]
        },
        {
          "name": "ix_orders_transfer_id",
          "unique": true,
          "columns": [
            "transfer_id"
          ]
        },
        {
          "name": "idx_orders_status_created",
          "unique": false,
          "columns": [
            "status",
            "created_at"
          ]
        },
        {
          "name": "idx_orders_created",
          "unique": false,
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "ix_orders_order_id",
          "unique": true,
          "columns": [
            "order_id"
          ]
        },
        {
          "name": "ix_orders_user_id",
          "unique": false,
          "columns": [
            "user_id"
          ]
        },
        {
          "name": "idx_orders_user_created",
          "unique": false,
          "columns": [
            "user_id",
            "created_at"
          ]
        }
      ],
      "foreign_keys": [
        {
          "id": 0,
          "seq": 0,
          "table": "users",
          "from": "user_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        }
      ],
      "count": 11
    },
    "payments": {
      "type": "table",
      "create_sql": "CREATE TABLE payments (\n\tid INTEGER NOT NULL, \n\torder_id INTEGER, \n\tshop_transaction_id VARCHAR(64) NOT NULL, \n\tocto_payment_uuid VARCHAR(64), \n\tamount FLOAT NOT NULL, \n\tcurrency VARCHAR(8) NOT NULL, \n\tstatus VARCHAR(9) NOT NULL, \n\traw VARCHAR(4000), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tupdated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE SET NULL\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "order_id",
          "type": "INTEGER",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "shop_transaction_id",
          "type": "VARCHAR(64)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "octo_payment_uuid",
          "type": "VARCHAR(64)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "amount",
          "type": "FLOAT",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "currency",
          "type": "VARCHAR(8)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "status",
          "type": "VARCHAR(9)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "raw",
          "type": "VARCHAR(4000)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 8,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 9,
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "ix_payments_octo_payment_uuid",
          "unique": false,
          "columns": [
            "octo_payment_uuid"
          ]
        },
        {
          "name": "idx_payments_order_status",
          "unique": false,
          "columns": [
            "order_id",
            "status"
          ]
        },
        {
          "name": "ix_payments_status",
          "unique": false,
          "columns": [
            "status"
          ]
        },
        {
          "name": "idx_payments_created",
          "unique": false,
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "ix_payments_shop_transaction_id",
          "unique": true,
          "columns": [
            "shop_transaction_id"
          ]
        },
        {
          "name": "ix_payments_order_id",
          "unique": false,
          "columns": [
            "order_id"
          ]
        },
        {
          "name": "ix_payments_id",
          "unique": false,
          "columns": [
            "id"
          ]
        }
      ],
      "foreign_keys": [
        {
          "id": 0,
          "seq": 0,
          "table": "orders",
          "from": "order_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "SET NULL"
        }
      ],
      "count": 18
    },
    "refund_requests": {
      "type": "table",
      "create_sql": "CREATE TABLE refund_requests (\n\tid INTEGER NOT NULL, \n\torder_id INTEGER NOT NULL, \n\tpayment_id INTEGER, \n\tuser_id INTEGER NOT NULL, \n\tadmin_id INTEGER, \n\tamount FLOAT NOT NULL, \n\treason VARCHAR(600), \n\tadmin_note VARCHAR(600), \n\tstatus VARCHAR(10) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tupdated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tprocessed_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(payment_id) REFERENCES payments (id) ON DELETE SET NULL, \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(admin_id) REFERENCES users (id) ON DELETE SET NULL\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "order_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "payment_id",
          "type": "INTEGER",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "admin_id",
          "type": "INTEGER",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "amount",
          "type": "FLOAT",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "reason",
          "type": "VARCHAR(600)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "admin_note",
          "type": "VARCHAR(600)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 8,
          "name": "status",
          "type": "VARCHAR(10)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 9,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 10,
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 11,
          "name": "processed_at",
          "type": "DATETIME",
          "notnull": false,
          "default": null,
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "ix_refund_requests_payment_id",
          "unique": false,
          "columns": [
            "payment_id"
          ]
        },
        {
          "name": "idx_refund_order",
          "unique": false,
          "columns": [
            "order_id"
          ]
        },
        {
          "name": "ix_refund_requests_user_id",
          "unique": false,
          "columns": [
            "user_id"
          ]
        },
        {
          "name": "idx_refund_user",
          "unique": false,
          "columns": [
            "user_id"
          ]
        },
        {
          "name": "ix_refund_requests_admin_id",
          "unique": false,
          "columns": [
            "admin_id"
          ]
        },
        {
          "name": "idx_refund_order_status",
          "unique": false,
          "columns": [
            "order_id",
            "status"
          ]
        },
        {
          "name": "idx_refund_status",
          "unique": false,
          "columns": [
            "status"
          ]
        },
        {
          "name": "ix_refund_requests_status",
          "unique": false,
          "columns": [
            "status"
          ]
        },
        {
          "name": "ix_refund_requests_id",
          "unique": false,
          "columns": [
            "id"
          ]
        },
        {
          "name": "ix_refund_requests_order_id",
          "unique": false,
          "columns": [
            "order_id"
          ]
        }
      ],
      "foreign_keys": [
        {
          "id": 0,
          "seq": 0,
          "table": "users",
          "from": "admin_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "SET NULL"
        },
        {
          "id": 1,
          "seq": 0,
          "table": "users",
          "from": "user_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        },
        {
          "id": 2,
          "seq": 0,
          "table": "payments",
          "from": "payment_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "SET NULL"
        },
        {
          "id": 3,
          "seq": 0,
          "table": "orders",
          "from": "order_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        }
      ],
      "count": 0
    },
    "refunds": {
      "type": "table",
      "create_sql": "CREATE TABLE refunds (\n                        id INTEGER PRIMARY KEY AUTOINCREMENT,\n                        refund_id VARCHAR(64) UNIQUE NOT NULL,\n                        payment_id INTEGER NOT NULL REFERENCES payments(id) ON DELETE CASCADE,\n                        order_id INTEGER REFERENCES orders(id) ON DELETE SET NULL,\n                        requested_by INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n                        processed_by INTEGER REFERENCES users(id) ON DELETE SET NULL,\n                        amount FLOAT NOT NULL,\n                        currency VARCHAR(8) NOT NULL DEFAULT 'UZS',\n                        reason VARCHAR(500),\n                        admin_notes VARCHAR(500),\n                        status VARCHAR(20) NOT NULL DEFAULT 'requested',\n                        octo_payment_uuid VARCHAR(64),\n                        octo_response VARCHAR(4000),\n                        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n                        processed_at TIMESTAMP,\n                        completed_at TIMESTAMP,\n                        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n                    )",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": false,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "refund_id",
          "type": "VARCHAR(64)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "payment_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "order_id",
          "type": "INTEGER",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "requested_by",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "processed_by",
          "type": "INTEGER",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "amount",
          "type": "FLOAT",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "currency",
          "type": "VARCHAR(8)",
          "notnull": true,
          "default": "'UZS'",
          "pk": 0
        },
        {
          "cid": 8,
          "name": "reason",
          "type": "VARCHAR(500)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 9,
          "name": "admin_notes",
          "type": "VARCHAR(500)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 10,
          "name": "status",
          "type": "VARCHAR(20)",
          "notnull": true,
          "default": "'requested'",
          "pk": 0
        },
        {
          "cid": 11,
          "name": "octo_payment_uuid",
          "type": "VARCHAR(64)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 12,
          "name": "octo_response",
          "type": "VARCHAR(4000)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 13,
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 14,
          "name": "processed_at",
          "type": "TIMESTAMP",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 15,
          "name": "completed_at",
          "type": "TIMESTAMP",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 16,
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "idx_refunds_status_created",
          "unique": false,
          "columns": [
            "status",
            "created_at"
          ]
        },
        {
          "name": "idx_refunds_requester_status",
          "unique": false,
          "columns": [
            "requested_by",
            "status"
          ]
        },
        {
          "name": "idx_refunds_payment_status",
          "unique": false,
          "columns": [
            "payment_id",
            "status"
          ]
        },
        {
          "name": "idx_refunds_octo_uuid",
          "unique": false,
          "columns": [
            "octo_payment_uuid"
          ]
        },
        {
          "name": "idx_refunds_created",
          "unique": false,
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "idx_refunds_status",
          "unique": false,
          "columns": [
            "status"
          ]
        },
        {
          "name": "idx_refunds_processor",
          "unique": false,
          "columns": [
            "processed_by"
          ]
        },
        {
          "name": "idx_refunds_requester",
          "unique": false,
          "columns": [
            "requested_by"
          ]
        },
        {
          "name": "idx_refunds_order",
          "unique": false,
          "columns": [
            "order_id"
          ]
        },
        {
          "name": "idx_refunds_payment",
          "unique": false,
          "columns": [
            "payment_id"
          ]
        },
        {
          "name": "idx_refunds_refund_id",
          "unique": false,
          "columns": [
            "refund_id"
          ]
        },
        {
          "name": "sqlite_autoindex_refunds_1",
          "unique": true,
          "columns": [
            "refund_id"
          ]
        }
      ],
      "foreign_keys": [
        {
          "id": 0,
          "seq": 0,
          "table": "users",
          "from": "processed_by",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "SET NULL"
        },
        {
          "id": 1,
          "seq": 0,
          "table": "users",
          "from": "requested_by",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        },
        {
          "id": 2,
          "seq": 0,
          "table": "orders",
          "from": "order_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "SET NULL"
        },
        {
          "id": 3,
          "seq": 0,
          "table": "payments",
          "from": "payment_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        }
      ],
      "count": 2
    },
    "slipper_images": {
      "type": "table",
      "create_sql": "CREATE TABLE slipper_images (\n\tid INTEGER NOT NULL, \n\tslipper_id INTEGER NOT NULL, \n\timage_path VARCHAR(255) NOT NULL, \n\tis_primary BOOLEAN NOT NULL, \n\talt_text VARCHAR(255), \n\torder_index INTEGER NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(slipper_id) REFERENCES slippers (id) ON DELETE CASCADE\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "slipper_id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "image_path",
          "type": "VARCHAR(255)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "is_primary",
          "type": "BOOLEAN",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "alt_text",
          "type": "VARCHAR(255)",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "order_index",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "idx_slipper_images_primary_order",
          "unique": false,
          "columns": [
            "slipper_id",
            "is_primary",
            "order_index"
          ]
        },
        {
          "name": "idx_slipper_images_slipper_id",
          "unique": false,
          "columns": [
            "slipper_id"
          ]
        },
        {
          "name": "ix_slipper_images_slipper_id",
          "unique": false,
          "columns": [
            "slipper_id"
          ]
        },
        {
          "name": "ix_slipper_images_id",
          "unique": false,
          "columns": [
            "id"
          ]
        },
        {
          "name": "idx_slipper_images_order",
          "unique": false,
          "columns": [
            "order_index"
          ]
        },
        {
          "name": "idx_slipper_images_primary",
          "unique": false,
          "columns": [
            "is_primary"
          ]
        }
      ],
      "foreign_keys": [
        {
          "id": 0,
          "seq": 0,
          "table": "slippers",
          "from": "slipper_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE"
        }
      ],
      "count": 1
    },
    "slippers": {
      "type": "table",
      "create_sql": "CREATE TABLE slippers (\n\tid INTEGER NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\timage VARCHAR(255) NOT NULL, \n\tsize VARCHAR(20) NOT NULL, \n\tprice FLOAT NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tcategory_id INTEGER, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tupdated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(category_id) REFERENCES categories (id) ON DELETE SET NULL\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "name",
          "type": "VARCHAR(100)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "image",
          "type": "VARCHAR(255)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "size",
          "type": "VARCHAR(20)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "price",
          "type": "FLOAT",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "quantity",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "category_id",
          "type": "INTEGER",
          "notnull": false,
          "default": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 8,
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "idx_slippers_price",
          "unique": false,
          "columns": [
            "price"
          ]
        },
        {
          "name": "ix_slippers_id",
          "unique": false,
          "columns": [
            "id"
          ]
        },
        {
          "name": "idx_slippers_category",
          "unique": false,
          "columns": [
            "category_id"
          ]
        },
        {
          "name": "idx_slippers_name",
          "unique": false,
          "columns": [
            "name"
          ]
        },
        {
          "name": "idx_slippers_quantity_active",
          "unique": false,
          "columns": [
            "quantity",
            "category_id"
          ]
        },
        {
          "name": "ix_slippers_name",
          "unique": false,
          "columns": [
            "name"
          ]
        },
        {
          "name": "idx_slippers_name_category",
          "unique": false,
          "columns": [
            "name",
            "category_id"
          ]
        },
        {
          "name": "idx_slippers_quantity",
          "unique": false,
          "columns": [
            "quantity"
          ]
        },
        {
          "name": "idx_slippers_created_at",
          "unique": false,
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "ix_slippers_price",
          "unique": false,
          "columns": [
            "price"
          ]
        },
        {
          "name": "ix_slippers_category_id",
          "unique": false,
          "columns": [
            "category_id"
          ]
        },
        {
          "name": "idx_slippers_category_price",
          "unique": false,
          "columns": [
            "category_id",
            "price"
          ]
        },
        {
          "name": "ix_slippers_quantity",
          "unique": false,
          "columns": [
            "quantity"
          ]
        },
        {
          "name": "idx_slippers_size",
          "unique": false,
          "columns": [
            "size"
          ]
        },
        {
          "name": "ix_slippers_size",
          "unique": false,
          "columns": [
            "size"
          ]
        }
      ],
      "foreign_keys": [
        {
          "id": 0,
          "seq": 0,
          "table": "categories",
          "from": "category_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "SET NULL"
        }
      ],
      "count": 1
    },
    "users": {
      "type": "table",
      "create_sql": "CREATE TABLE users (\n\tid INTEGER NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tsurname VARCHAR(100) NOT NULL, \n\tphone_number VARCHAR(20) NOT NULL, \n\tpassword_hash VARCHAR(255) NOT NULL, \n\tis_admin BOOLEAN NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tupdated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)",
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": true,
          "default": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "name",
          "type": "VARCHAR(100)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "surname",
          "type": "VARCHAR(100)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "phone_number",
          "type": "VARCHAR(20)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "password_hash",
          "type": "VARCHAR(255)",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "is_admin",
          "type": "BOOLEAN",
          "notnull": true,
          "default": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "created_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 7,
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": true,
          "default": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ],
      "indexes": [
        {
          "name": "idx_users_name",
          "unique": false,
          "columns": [
            "name"
          ]
        },
        {
          "name": "idx_users_phone_number",
          "unique": false,
          "columns": [
            "phone_number"
          ]
        },
        {
          "name": "ix_users_phone_number",
          "unique": true,
          "columns": [
            "phone_number"
          ]
        },
        {
          "name": "ix_users_name",
          "unique": false,
          "columns": [
            "name"
          ]
        },
        {
          "name": "idx_users_admin_created",
          "unique": false,
          "columns": [
            "is_admin",
            "created_at"
          ]
        },
        {
          "name": "idx_users_name_surname",
          "unique": false,
          "columns": [
            "name",
            "surname"
          ]
        },
        {
          "name": "idx_users_admin",
          "unique": false,
          "columns": [
            "is_admin"
          ]
        },
        {
          "name": "ix_users_id",
          "unique": false,
          "columns": [
            "id"
          ]
        },
        {
          "name": "idx_users_created_at",
          "unique": false,
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "idx_users_surname",
          "unique": false,
          "columns": [
            "surname"
          ]
        },
        {
          "name": "ix_users_surname",
          "unique": false,
          "columns": [
            "surname"
          ]
        }
      ],
      "foreign_keys": [],
      "count": 2
    }
  }
}